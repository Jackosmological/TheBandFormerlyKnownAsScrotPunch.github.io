<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>The band formerly known as scrot punch</title>
<link rel="stylesheet" href="styles.css" />
</head>

<body>

<main class="content">
<h1>The band formerly known as scrot punch</h1>
<p>were not called scrot punch!! DO NOT call us that.</p>

<div class="tv" id="tv">

  <!-- Screen texture -->
  <img class="tv-screen" src="screen.png" alt="">

  <!-- VHS STATIC LAYER -->
  <div class="tv-static"></div>

  <!-- Video -->
  <video class="tv-video" id="bandVideo" playsinline preload="metadata">
    <source src="band.mp4" type="video/mp4" />
  </video>

  <!-- Play Button -->
  <button class="play-btn" id="playBtn"></button>

  <!-- TV Frame -->
  <img class="tv-frame" src="tv.png" alt="">

</div>

</main>

<script>
const tv = document.getElementById("tv");
const v = document.getElementById("bandVideo");
const btn = document.getElementById("playBtn");

/* STARTUP CRT SWEEP */
window.addEventListener("load", () => {
  tv.classList.add("tv-startup");
  setTimeout(()=>tv.classList.remove("tv-startup"), 1200);
});

/* PLAY BUTTON */
btn.onclick = async ()=>{
  try{
    tv.classList.add("tv-on");
    tv.classList.add("tv-static-burst");

    setTimeout(()=>{
      tv.classList.remove("tv-static-burst");
      v.play();
      btn.style.display="none";
    }, 500);

  }catch(e){}
};

/* Pause toggle */
v.onclick = ()=>{
  if(v.paused){
    v.play();
    btn.style.display="none";
  } else {
    v.pause();
    btn.style.display="block";
  }
};
</script>

</body>
</html>
